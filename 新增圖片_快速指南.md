# 📸 新增專案圖片 - 快速指南

## ⚡ 10 秒速覽流程圖

```
┌──────────────┐
│ 1. 放入圖片  │  ─→  public/前端截圖/新圖片.png
└──────────────┘
        ↓
┌──────────────┐
│ 2. Git 推送  │  ─→  git add . && git commit -m "新增圖片" && git push
└──────────────┘
        ↓
┌──────────────┐
│ 3. Vercel    │  ─→  自動構建時執行掃描腳本
└──────────────┘      自動生成 config/image-gallery.ts
        ↓
┌──────────────┐
│ ✅ 完成可用  │  ─→  管理後台編輯界面自動顯示新圖片
└──────────────┘
```

**就這麼簡單！** 無需手動配置，完全自動化。

---

## 📝 詳細步驟（2 步驟）

### **步驟 1：放入圖片檔案**
```
📁 專案根目錄
  └─ public/
      └─ 前端截圖/
          ├─ 現有圖片.png
          └─ 【新圖片.png】 ← 放這裡
```

**支援格式**：`.png`, `.jpg`, `.jpeg`, `.webp`

**檔名建議**：
- ✅ 推薦：`9-24-icon-auto-creator(選擇圖標尺寸預設).png`
- ✅ 推薦：`Whisper 語音轉譯服務(總結).png`
- ✅ 推薦：`臉書貼文排版格式化工具.png`
- ⚠️ 可用：`10-15-專案名稱.png`（日期前綴會自動移除）
- ❌ 避免：過於簡短的名稱（如 `test.png`）

> 💡 **重要**：圖片標題會從檔名自動提取，請使用描述性名稱！

---

### **步驟 2：推送到 Git**
```bash
git add public/前端截圖/新圖片.png
git commit -m "新增：專案截圖"
git push
```

**或一次性**：
```bash
git add . && git commit -m "新增圖片" && git push
```

⏱️ **Vercel 自動部署**：約 1-2 分鐘

---

## 🔄 幕後自動化流程

當您推送到 Git 後，Vercel 會自動：

```
1. git push
   ↓
2. Vercel 偵測到更新
   ↓
3. 開始構建 (npm run build)
   ↓
4. 執行 npm run generate-gallery
   ├─ 掃描 public/前端截圖/ 目錄
   ├─ 從檔名提取標題
   └─ 生成 config/image-gallery.ts
   ↓
5. 構建完成，部署上線
   ↓
6. ✅ 圖片立即可在管理後台選擇
```

**您無需執行任何腳本！** Vercel 會自動處理一切。

---

## 🎨 在專案中使用圖片

圖片上傳後，如何添加到專案卡片？

### **方法 1：新增專案時選擇**
1. 管理後台 → 「新增專案」
2. 滾動到「圖片預覽」區塊
3. 勾選要顯示的圖片（可多選）
4. 選擇顯示模式：
   - **單張切換**：訪客可點擊/按鈕切換
   - **多張並列**：同時展開所有圖片
5. 儲存

### **方法 2：編輯現有專案**
1. 管理後台 → 點擊專案的「編輯」按鈕
2. 找到「圖片預覽」區塊
3. 勾選/取消圖片
4. 儲存

---

## 📋 完整範例

假設新增：`9-25-專案管理平台(主界面).png`

### **1. 檔案放置**
```
public/前端截圖/9-25-專案管理平台(主界面).png
```

### **2. Git 推送**
```bash
git add public/前端截圖/9-25-專案管理平台\(主界面\).png
git commit -m "新增：專案管理平台截圖"
git push
```

### **3. 等待部署**
- 前往 Vercel Dashboard 查看部署狀態
- 約 1-2 分鐘後完成

### **4. 管理後台使用**
- 進入編輯頁面
- 在圖片選單中找到「專案管理平台（主界面）」
- 勾選後儲存

---

## 🖥️ 本地開發（可選）

如果您想**本地預覽**圖片配置：

```bash
# 開發模式（自動執行掃描）
npm run dev

# 或手動執行掃描
npm run generate-gallery
```

**但這不是必須的！** 推送到 Git 後，Vercel 會自動處理。

---

## 📝 檔名處理規則

腳本會自動處理檔名：

| 原始檔名 | 提取的標題 |
|----------|-----------|
| `9-24-icon-auto-creator(選擇圖標尺寸預設).png` | `icon-auto-creator（選擇圖標尺寸預設）` |
| `10-15-youtube-info-extractor-tool (縮圖).png` | `youtube-info-extractor-tool （縮圖）` |
| `Whisper 語音轉譯服務(總結).png` | `Whisper 語音轉譯服務（總結）` |
| `2025-10-22-專案名稱.png` | `專案名稱` |

**自動處理**：
- ✅ 移除日期前綴（如 `10-15-`、`2025-10-22-`）
- ✅ 轉換英文括號為中文括號 `()` → `（）`
- ✅ 轉換下劃線為空格 `_` → ` `

---

## ⚠️ 常見問題與解決

### ❌ **問題 1：推送後圖片沒出現**

**可能原因**：
1. Vercel 還在部署中（等待 1-2 分鐘）
2. 圖片格式不支援（僅支援 png/jpg/jpeg/webp）
3. 圖片不在正確目錄（必須在 `public/前端截圖/`）

**解決方法**：
```bash
# 確認檔案位置
ls public/前端截圖/

# 檢查 Vercel 部署狀態
# 前往 Vercel Dashboard → Deployments
```

---

### ❌ **問題 2：圖片標題不理想**

**原因**：標題從檔名自動提取

**解決方法**：
1. 重新命名圖片檔案（使用描述性名稱）
2. 重新推送
3. Vercel 會自動更新配置

**或者**：
- 手動編輯 `config/image-gallery.ts`（不推薦）
- 修改 `scripts/generate-image-gallery.js` 的提取邏輯

---

### ❌ **問題 3：舊圖片不見了**

**原因**：腳本會重新掃描整個目錄

**檢查**：
```bash
# 確認圖片是否真的存在
ls public/前端截圖/

# 如果圖片被誤刪，從 Git 恢復
git checkout HEAD -- public/前端截圖/圖片名稱.png
git push
```

---

## 🗑️ 刪除圖片

### **步驟 1：Git 刪除檔案**
```bash
git rm public/前端截圖/要刪除的圖片.png
git commit -m "刪除：舊圖片"
git push
```

### **步驟 2：自動更新**
- Vercel 構建時會自動掃描
- `config/image-gallery.ts` 自動移除該圖片
- 已使用該圖片的專案會顯示「尚未配置圖片預覽」

### **步驟 3：更新專案（如需要）**
- 進入使用該圖片的專案
- 重新選擇其他圖片
- 或移除圖片預覽

---

## 🔒 安全性說明

### ✅ **完全安全**

| 項目 | 說明 |
|------|------|
| 🚫 不涉及 Blob | 腳本只生成代碼文件，不讀寫資料庫 |
| ⏰ 構建時執行 | 在構建階段執行，非運行時 |
| 📦 版本控制 | Git 完整追蹤，可隨時回滾 |
| 🔐 無寫入風險 | 純粹的代碼生成，符合安全規範 |

### ⚠️ **請勿手動編輯**

`config/image-gallery.ts` 是**自動生成文件**：
- ⚠️ 手動修改會在下次部署時被覆蓋
- ✅ 如需調整邏輯，編輯 `scripts/generate-image-gallery.js`

---

## 💡 最佳實踐

### **檔名規範**
```
✅ 推薦（描述性 + 中文說明）：
  - 9-24-icon-auto-creator(選擇圖標尺寸預設).png
  - Whisper 語音轉譯服務(總結).png
  - 臉書貼文排版格式化工具.png

✅ 可用（英文 + 日期前綴）：
  - 10-15-project-screenshot.png
  - 2025-10-22-dashboard-view.png

⚠️ 不推薦（過於簡短）：
  - img1.png
  - test.png
  - screenshot.png

❌ 避免（特殊字符）：
  - file?.png
  - my:image.png
```

### **組織建議**
- 一個專案可以有多張圖片
- 使用括號說明圖片用途：`專案名稱(主界面).png`、`專案名稱(設定頁).png`
- 保持檔名一致性，方便管理

---

## 🎯 核心優勢

與手動配置相比：

| 項目 | 手動配置 | 自動掃描 |
|------|---------|---------|
| 新增步驟 | 4 步驟 | 2 步驟 |
| 配置文件 | 手動編輯 | 自動生成 |
| 出錯風險 | 中等 | 極低 |
| 維護成本 | 高 | 極低 |
| 檔名提取 | 手動填寫 | 自動提取 |

**結論**：完全自動化，省時省力！✨

---

**最後更新**：2025-10-22  

**相關文件**：
- `scripts/generate-image-gallery.js` - 掃描腳本
- `config/image-gallery.ts` - 圖片配置（自動生成）
- `package.json` - 腳本配置

