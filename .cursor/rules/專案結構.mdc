---
alwaysApply: true
---

# 專案結構指南

這是一個 Next.js 14 專案展示平台，使用 App Router 架構。

## 核心目錄結構

### `/app` - Next.js App Router 核心
- **`/api`** - API 路由（Serverless Functions）
  - `/projects` - 專案 CRUD 操作
  - `/images` - 圖片管理 API
  - `/auth` - 身份驗證
  - `/settings` - UI 設定管理
  - `/admin` - 管理員工具
- **`/components`** - React 元件庫
  - `/admin` - 管理後台元件（11個）
  - `/auth` - 驗證相關元件
  - `/project` - 專案展示元件
  - `/ui` - 通用 UI 元件
  - `/layout` - 版面配置元件
- **`/lib`** - 核心函式庫
  - [supabase.ts](mdc:app/lib/supabase.ts) - Supabase 客戶端配置
  - [storage.ts](mdc:app/lib/storage.ts) - Storage 操作庫
  - [auth.ts](mdc:app/lib/auth.ts) - 密碼驗證與記憶
  - [statistics.ts](mdc:app/lib/statistics.ts) - 統計資料計算
- **`/types`** - TypeScript 型別定義
  - [index.ts](mdc:app/types/index.ts) - 所有型別定義
- **`/admin`** - 管理後台頁面
  - `page.tsx` - 後台主頁
  - `/images` - 圖片管理頁面
  - `/new` - 新增專案
  - `/edit/[id]` - 編輯專案

### `/config` - 配置檔案
- `image-gallery.ts` - 圖片配置（自動生成，勿手動編輯）

### `/scripts` - 自動化腳本
- `generate-icons.js` - 圖標生成工具
- `generate-image-gallery.js` - 圖片目錄掃描器
- `migrate-image-metadata.js` - 圖片元數據遷移

### `/docs` - 文件資料夾
- `/快速指南` - 日常操作手冊
- `/開發者內容` - 技術文件

### `/public` - 靜態資源
- `/icons` - 應用圖標
- `/前端截圖` - 專案截圖
- `/單檔-獨立頁面` - HTML 單檔專案

## 路徑別名

根據 [tsconfig.json](mdc:tsconfig.json)：
- `@/*` → `./app/*`
- `@/components/*` → `./app/components/*`
- `@/lib/*` → `./app/lib/*`
- `@/types/*` → `./app/types/*`
- `@/config/*` → `./config/*`

## 重要檔案

- [package.json](mdc:package.json) - 專案依賴與腳本
- [next.config.js](mdc:next.config.js) - Next.js 配置
- [tailwind.config.js](mdc:tailwind.config.js) - Tailwind CSS 配置
- [tsconfig.json](mdc:tsconfig.json) - TypeScript 配置

## 資料庫架構

使用 Supabase PostgreSQL：
- `projects` 表 - 專案資料
- `settings` 表 - 應用設定（JSONB）
- `image_metadata` 表 - 圖片元數據
- `project-images` Storage Bucket - 圖片存儲
