# 專案展示平台 - 部署指南

## 📋 概述

這是一個基於 Next.js 和 Vercel Blob 的專案展示平台，支援訪客瀏覽和管理員線上編輯功能。

## 🚀 快速部署

### 步驟 1: 複製專案

```bash
git clone <your-repo-url>
cd project-showcase-platform
npm install
```

### 步驟 2: 生成圖標

```bash
npm run generate-icons
```

### 步驟 3: 部署到 Vercel

1. 連接到 GitHub 並部署到 Vercel
2. 或使用 Vercel CLI：

```bash
npx vercel
```

### 步驟 4: 建立 Vercel Blob 存儲

在 Vercel 控制台中：

1. 進入您的專案
2. 點擊 **Storage** 選項卡
3. 點擊 **Create Database**
4. 選擇 **Blob**
5. 為存儲命名（例如：`project-data-store`）
6. 點擊 **Create**

✅ **重要：選擇與您的專案相同的存儲區域以獲得最佳性能**

### 步驟 5: 設定環境變數

在 Vercel 專案設定中添加以下環境變數：

```env
ADMIN_PASSWORD=your-secure-admin-password
```

⚠️ **注意：**
- Blob 連接憑證會自動注入，無需手動設定
- 請使用強密碼作為管理員密碼
- 不要在代碼中硬編碼密碼

## 🔧 詳細設定

### Blob 存儲配置

系統會自動使用 Vercel Blob 來存儲：
- 專案資料（projects.json）
- 管理員設定
- 密碼資料（僅管理員可見）

### 環境變數說明

| 變數名 | 描述 | 必需 | 範例 |
|--------|------|------|---------|
| `ADMIN_PASSWORD` | 管理員登入密碼 | 是 | `MySecurePassword123!` |
| `BLOB_READ_WRITE_TOKEN` | Blob 讀寫令牌 | 否* | 自動產生 |

*Vercel 會自動為同專案的 Blob 存儲注入必要的環境變數

## 📱 功能驗證清單

部署完成後，請按以下步驟驗證功能：

### 訪客功能測試
- [ ] 能夠訪問首頁
- [ ] 可以看到公開的專案
- [ ] 搜尋和篩選功能正常
- [ ] 專案卡片顯示正確
- [ ] 外部連結可以正常開啟

### 管理員功能測試
- [ ] 可以使用設定的密碼登入
- [ ] 管理後台正常加載
- [ ] 可以看到所有專案（包括隱藏的）
- [ ] 新增專案功能正常
- [ ] 編輯專案功能正常
- [ ] 刪除專案功能正常
- [ ] 密碼管理區塊正常（僅管理員可見）
- [ ] 設定頁面功能正常
- [ ] 顯示/隱藏控制開關正常運作

## 🔐 安全注意事項

1. **密碼安全**
   - 使用強密碼（至少 12 個字元，包含大小寫、數字和特殊字元）
   - 定期更換管理員密碼
   - 不要在公共場所或不安全的網絡下登入管理員帳戶

2. **環境變數**
   - 永遠不要在代碼中暴露 `ADMIN_PASSWORD`
   - 不要將 `.env.local` 文件提交到版本控制

3. **存取控制**
   - 密碼區域僅管理員可見
   - 開發者註解對訪客隱藏
   - API 端點都有適當的權限檢查

## 🛠 故障排除

### 常見問題

#### 1. 「無法載入專案資料」錯誤

**原因：** Blob 存儲未正確設定或連接失敗

**解決方案：**
1. 確認 Blob 存儲已在 Vercel 控制台創建
2. 確認存儲與專案在同一區域
3. 重新部署專案以重新注入環境變數

#### 2. 管理員登入失敗

**原因：** `ADMIN_PASSWORD` 環境變數未設定或不匹配

**解決方案：**
1. 檢查 Vercel 專案設定中的環境變數
2. 確認密碼輸入正確（注意大小寫）
3. 重新部署以套用新的環境變數

#### 3. 圖標未正確顯示

**原因：** 圖標文件未生成或路徑錯誤

**解決方案：**
```bash
npm run generate-icons
git add public/icons/ public/manifest.json
git commit -m "Add generated icons"
git push
```

#### 4. 功能按鈕不響應

**原因：** JavaScript 錯誤或 API 連接問題

**解決方案：**
1. 開啟瀏覽器開發者工具檢查控制台錯誤
2. 檢查網絡選項卡中的 API 請求狀態
3. 確認所有環境變數正確設定

### 日誌檢查

在 Vercel 控制台中：
1. 進入 **Functions** 選項卡
2. 查看最近的請求和錯誤日誌
3. 檢查 **Runtime Logs** 了解具體錯誤訊息

## 📊 效能優化建議

1. **圖片優化**
   - 使用適當尺寸的專案截圖
   - 考慮使用 WebP 格式

2. **快取策略**
   - 靜態資源會自動被 Vercel CDN 快取
   - API 回應包含適當的快取標頭

3. **資料大小**
   - 避免在單一專案中存儲過大的描述文字
   - 定期清理不需要的專案資料

## 🔄 備份和遷移

### 匯出資料（開發中）
現在匯出功能正在開發中。未來版本將支援：
- JSON 格式匯出所有專案資料
- 自動備份到 GitHub
- 跨平台遷移功能

### 手動備份
目前可以通過以下方式進行手動備份：
1. 在管理員後台複製重要的專案資料
2. 定期截圖保存專案列表
3. 將重要連結另存到其他平台

## 📞 技術支援

如果遇到問題：

1. **首先檢查：**
   - Vercel 部署狀態
   - 環境變數設定
   - 瀏覽器控制台錯誤訊息

2. **獲取幫助：**
   - 查看 GitHub Issues
   - 查閱 Vercel 官方文檔
   - 查閱 Next.js 官方文檔

---

## 🎉 部署完成！

恭喜！您的專案展示平台現在已經成功部署。您可以：

1. **訪客模式：** 直接訪問您的網站查看公開專案
2. **管理員模式：** 點擊「管理員登入」開始管理您的專案
3. **自定義：** 在管理後台調整設定以符合您的需求

記住保持您的管理員密碼安全，並定期備份重要資料！

