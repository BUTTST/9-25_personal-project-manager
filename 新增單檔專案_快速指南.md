# 🚀 新增單檔專案 - 快速指南

## ⚡ 10 秒速覽流程圖

```
┌──────────────┐
│ 1. 放入 HTML │  ─→  public/單檔-獨立頁面/新檔案.html
└──────────────┘
        ↓
┌──────────────┐
│ 2. Git 推送  │  ─→  git add . && git commit -m "新增文件" && git push
└──────────────┘
        ↓
┌──────────────┐
│ 3. 管理後台  │  ─→  新增專案 → 類別選「單檔」→ 自動顯示表單
└──────────────┘      填寫檔案路徑和標題 → 儲存
        ↓
┌──────────────┐
│ ✅ 完成顯示  │  ─→  前端自動顯示新卡片
└──────────────┘
```

---

## 📝 詳細步驟（3 步驟）

### **步驟 1：放入 HTML 檔案**
```
📁 專案根目錄
  └─ public/
      └─ 單檔-獨立頁面/
          ├─ 現有檔案.html
          └─ 【新檔案.html】 ← 放這裡
```

**建議檔名規則**：
- ✅ 推薦：英文或英數混合（如 `react-notes.html`）
- ⚠️ 可用但需注意：中文檔名（URL 會被編碼）
- ❌ 避免：特殊符號 `? * : " < > |`

---

### **步驟 2：推送到 Git**
```bash
git add public/單檔-獨立頁面/新檔案.html
git commit -m "新增：新檔案文件"
git push
```

**或一次性**：
```bash
git add . && git commit -m "新增文件" && git push
```

⏱️ **Vercel 自動部署**：約 1-2 分鐘

---

### **步驟 3：管理後台新增專案**

進入：`https://你的網址/admin` → 點擊「新增專案」

#### **操作步驟**：

**1. 選擇類別為「單檔」**
```
類別下拉選單 → 選擇「［單檔］」
```
✨ **系統會自動顯示「📄 單檔文件資訊」區塊！**

**2. 填寫表單**：
```
┌─────────────────────────────────────────────┐
│ 📋 基本資訊                                  │
├─────────────────────────────────────────────┤
│ 日期與檔名：2025-10-22_新檔案標題            │
│ 說明：      ［單檔］簡短描述內容              │
│ 類別：      ［單檔］← 選這個會顯示下方區塊    │
│ 狀態：      （預設「進行中」）                │
└─────────────────────────────────────────────┘
        ↓ 自動顯示
┌─────────────────────────────────────────────┐
│ 📄 單檔文件資訊 (單檔專案專用)                │
├─────────────────────────────────────────────┤
│ 檔案路徑 *： /單檔-獨立頁面/新檔案.html       │
│              ↑↑↑ 必填且須與實際檔名完全一致   │
│                                              │
│ 顯示標題 *： 會顯示在卡片上的標題              │
│ 說明文字：   簡短描述文件內容                 │
│ 開啟方式：   新分頁開啟（預設）               │
│ 檔案大小：   例：54 KB（選填）                │
│ 標籤：       標籤1, 標籤2（選填）             │
└─────────────────────────────────────────────┘
```

**3. 點擊「新增專案」按鈕**

**關鍵欄位說明**：

| 欄位 | 說明 | 範例 | 必填 |
|------|------|------|------|
| 類別 | 必須選「［單檔］」 | `［單檔］` | ✅ |
| 檔案路徑 | 必須與實際檔案路徑完全一致 | `/單檔-獨立頁面/React筆記.html` | ✅ |
| 顯示標題 | 會顯示在專案卡片上 | `React 學習筆記` | ✅ |
| 開啟方式 | 點擊卡片時的行為 | `新分頁開啟` | ❌ |

---

## 🎯 完整範例

假設新增：`React學習筆記.html`

### **1. 檔案放置**
```
public/單檔-獨立頁面/React學習筆記.html
```

### **2. Git 推送**
```bash
git add public/單檔-獨立頁面/React學習筆記.html
git commit -m "新增：React 學習筆記"
git push
```

### **3. 管理後台填寫**

進入 `/admin` → 點擊「新增專案」

```
📋 基本資訊
├─ 日期與檔名：2025-10-22_React學習筆記
├─ 說明：［單檔］React Hooks 與狀態管理
├─ 類別：［單檔］← 選這個
└─ 狀態：進行中

📄 單檔文件資訊（自動顯示）
├─ 檔案路徑 *：/單檔-獨立頁面/React學習筆記.html
├─ 顯示標題 *：React 學習筆記
├─ 說明文字：涵蓋 useState、useEffect、自訂 Hook
├─ 開啟方式：新分頁開啟
├─ 檔案大小：（選填）
└─ 標籤：React, 前端, 學習

點擊「新增專案」→ 完成！
```

---

## ⚠️ 常見錯誤與解決

### ❌ **錯誤 1：點擊卡片出現 404**
**原因**：`filePath` 與實際檔名不一致

**檢查清單**：
- [ ] 路徑是否以 `/` 開頭？
- [ ] 資料夾名稱是否正確？（`單檔-獨立頁面`）
- [ ] 檔名是否包含空格或特殊字元？
- [ ] 大小寫是否一致？

**解決方法**：
1. 確認實際檔案路徑：`public/單檔-獨立頁面/檔名.html`
2. 管理後台填寫：`/單檔-獨立頁面/檔名.html`

---

### ❌ **錯誤 2：前端沒有顯示卡片**
**原因 1**：類別沒有選「［單檔］」  
**原因 2**：檔案路徑或標題沒填寫（必填欄位）

**檢查**：
- 確認類別下拉選單選擇了「［單檔］」
- 確認「📄 單檔文件資訊」區塊有出現
- 確認檔案路徑和顯示標題都已填寫

---

### ❌ **錯誤 3：Git 推送後沒生效**
**原因**：Vercel 正在部署中

**解決**：
1. 前往 Vercel Dashboard
2. 確認部署狀態
3. 等待 1-2 分鐘

---

## 🔄 刪除單檔專案

### **步驟 1：Git 刪除檔案**
```bash
git rm public/單檔-獨立頁面/要刪除的檔案.html
git commit -m "刪除：舊檔案"
git push
```

### **步驟 2：管理後台刪除專案**
進入管理後台 → 找到該專案 → 刪除

---

## 📊 統計資訊

系統會自動計算：
- **總專案數**：包含所有類別
- **單檔文件**：只計算 `category: "single-doc"` 的專案
- **顯示中**：根據當前篩選器顯示的專案數

---

## 🎨 URL 編碼說明

**Q：為什麼連結看起來很長？**

中文檔名會被 URL 編碼：

| 實際檔名 | URL 顯示 |
|----------|----------|
| `React筆記.html` | `React%E7%AD%86%E8%A8%98.html` |
| `UI-UX 報告.html` | `UI-UX%20%E5%A0%B1%E5%91%8A.html` |

**這是正常的！** 瀏覽器會自動處理，不影響使用。

---

## 💡 最佳實踐

### **檔名建議**
```
✅ 推薦：
  - react-learning-notes.html
  - ui-ux-report-2025.html
  - github-license-guide.html

⚠️ 可用但 URL 會很長：
  - React學習筆記.html
  - UI-UX改善報告.html

❌ 避免：
  - file?.html（特殊符號）
  - my:notes.html（冒號）
```

### **資料一致性檢查**
每月檢查一次：
1. 列出 `public/單檔-獨立頁面/` 的所有檔案
2. 比對資料庫中的 `single-doc` 專案
3. 確保沒有孤立檔案或失效連結

---

## 📋 快速檢查表

新增前：
- [ ] HTML 檔案已準備好
- [ ] 檔名符合建議規則
- [ ] 已了解 3 步驟流程

新增後：
- [ ] Git 推送成功
- [ ] Vercel 部署完成
- [ ] 管理後台新增專案
- [ ] `category` 設為 `single-doc`
- [ ] `filePath` 填寫正確
- [ ] 前端可以看到卡片
- [ ] 點擊卡片可以開啟檔案

---

## 🆘 緊急修復

**如果搞砸了**：

1. **Blob 資料庫備份**
   - 前往 Vercel Blob 後台
   - 下載 `project-data.json`
   - 保存到 `手動備份/` 資料夾

2. **回滾到上一版**
   - 從備份中恢復正確的 JSON
   - 上傳回 Blob（檔名必須是 `project-data.json`）

3. **Git 回滾**（如果檔案有問題）
   ```bash
   git revert HEAD
   git push
   ```

---

## 📞 需要幫助？

如果遇到問題，檢查：
1. Vercel 部署日誌
2. 瀏覽器 Console（F12）
3. 確認 `filePath` 是否正確
4. 確認檔案是否真的存在於 `public/單檔-獨立頁面/`

---

**最後更新**：2025-10-22  
**版本**：v1.0

