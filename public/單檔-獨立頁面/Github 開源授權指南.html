<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>GitHub å¸¸è¦‹é–‹æºæˆæ¬ŠæŒ‡å—ï¼ˆäº’å‹•ï¼‹æŒ‘é¸å™¨ï¼‰</title>
<style>
  :root{
    --bg:#0b1020; --panel:#0e1530; --panel2:#111a35; --muted:#98a7ca; --text:#e8eeff; --accent:#7bb0ff;
    --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444; --chip:#1a2447; --border:#223056; --shadow:0 10px 30px rgba(0,0,0,.35);
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#0b1020,#0e1530);color:var(--text);font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans TC, PingFang TC, Microsoft JhengHei, sans-serif}
  .wrap{max-width:1280px;margin:auto;padding:28px}
  h1{font-size:clamp(26px,4vw,38px);letter-spacing:.5px;margin:0 0 6px}
  .subtitle{color:var(--muted);margin:0 0 16px}
  /* Tabs */
  .tabs{display:flex;gap:8px;margin:10px 0 16px}
  .tab{padding:8px 14px;border:1px solid var(--border);background:var(--panel2);border-radius:12px;color:var(--text);cursor:pointer;user-select:none}
  .tab.active{outline:2px solid var(--accent)}
  /* Toolbar */
  .toolbar{display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin:10px 0 16px}
  .pill{padding:8px 12px;border:1px solid var(--border);background:var(--panel2);border-radius:999px;cursor:pointer;user-select:none}
  .pill.active{background:#17305f;outline:1px solid var(--accent)}
  .search{flex:1;min-width:220px;display:flex;gap:8px}
  .search input{flex:1;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#0b1430;color:var(--text)}
  .btn{padding:8px 12px;border-radius:10px;border:1px solid var(--border);background:#0e1838;color:var(--text);cursor:pointer}
  .count{font-size:13px;color:var(--muted)}
  /* Grid & Cards */
  .grid{display:grid;gap:18px}
  .grid.big{grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}
  .grid.small{grid-template-columns:repeat(auto-fit,minmax(400px,1fr))}
  .card{background:linear-gradient(180deg,#121a36,#0f1832);border:1px solid var(--border);border-radius:18px;padding:18px;position:relative;overflow:hidden}
  .card .tag{position:absolute;top:12px;right:-40px;transform:rotate(35deg);background:var(--chip);color:var(--muted);padding:6px 56px;border:1px solid var(--border);font-size:12px;letter-spacing:.5px}
  .title{font-weight:700;font-size:20px;margin:2px 0}
  .aka{color:var(--muted);font-size:13px;margin:0 8px 8px 0}
  .badges{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0}
  .badge{border:1px solid var(--border);background:var(--chip);padding:4px 8px;border-radius:999px;font-size:12px}
  .badge.ok{border-color:#214c34;background:#0f2a1a;color:#b7f7c9}
  .badge.warn{border-color:#4a3a17;background:#261e0b;color:#ffe6b3}
  .badge.bad{border-color:#5b1f26;background:#2a0e11;color:#ffc4c9}
  .highlight{background:#17305f;border-color:var(--accent);color:var(--accent)}
  .kvs{display:grid;gap:10px;margin-top:8px}
  /* ä½¿ç”¨ grid è®“æ¨™é¡Œèˆ‡å…§å®¹åˆ†æ¬„ï¼Œå…§å®¹å¯åŒ…å«å€å¡Šå…ƒç´ ï¼ˆå¦‚ ulï¼‰ä¸ç ´å£ç‰ˆé¢ */
  .kv{display:grid;grid-template-columns:86px 1fr;gap:8px;align-items:start}
  .kv b{color:#cfe0ff;font-weight:600}
  .kv .kv-value{color:#e5eaff}
  .note{color:#cbd5ff;background:#0c1430;border:1px dashed var(--border);padding:12px;border-radius:12px;margin:10px 0}
  hr{border:0;border-top:1px solid var(--border);margin:24px 0}
  .section-title{font-size:22px;margin:8px 0 12px;display:flex;align-items:center;gap:10px}
  a{color:var(--accent);text-decoration:none}
  .footer{font-size:12px;color:var(--muted);margin-top:18px}
  .legend{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 14px}
  /* Example pop */
  .example-box{position:absolute;bottom:12px;right:12px;display:flex;align-items:center;gap:6px}
  .example-pill{display:flex;flex-direction:column;align-items:center;justify-content:center;border:1px solid var(--border);background:#0b1430;border-radius:8px;width:56px;height:44px;cursor:default;box-shadow:0 2px 8px rgba(0,0,0,.15)}
  .example-pill small{line-height:1;font-size:11px;color:#cfe0ff}
  .example-pill small:first-child{margin-bottom:2px}
  .example-icon{width:14px;height:14px;border:1px solid #32456f;border-radius:3px;background:#162246;opacity:.7}
  .example-pop{position:absolute;right:0;bottom:56px;width:min(520px,84vw);max-height:60vh;overflow:auto;background:#0b1430;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:12px;display:none;z-index:3}
  .example-pop pre{margin:0;background:#0a1230;padding:10px;border-radius:8px;border:1px solid #1f2d58;overflow:auto}
  .example-box:hover .example-pop{display:block}
  /* è§£å¥—æŒ‰éˆ•èˆ‡å½ˆå‡ºè¦–çª—ï¼ˆå–®å¡ç‰‡ï¼‰ */
  .workaround-btn{position:absolute;left:18px;bottom:12px;padding:6px 10px;border-radius:8px;border:1px solid var(--border);background:#10243a;color:var(--accent);cursor:pointer;font-size:13px}
  .workaround-pop{position:absolute;left:18px;bottom:52px;width:calc(100% - 36px);max-width:360px;background:#071129;border:1px solid var(--border);padding:12px;border-radius:8px;display:none;z-index:5;color:var(--muted);box-shadow:var(--shadow)}
  .workaround-pop b{color:var(--text)}
  /* Picker choices */
  .picker{display:none}
  .picker.active{display:block}
  .picker-grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
  .choice{border:1px solid var(--border);background:var(--panel2);padding:12px;border-radius:14px;display:flex;gap:10px;align-items:flex-start}
  .choice input{margin-top:4px}
  .result{margin-top:16px}
</style>
</head>
<body>
<div class="wrap">
  <h1>GitHub å¸¸è¦‹é–‹æºæˆæ¬ŠæŒ‡å—</h1>
  <p class="subtitle">äº’å‹•ç¯©é¸ï¼‹æˆæ¬ŠæŒ‘é¸å™¨ï¼šä¿æŒä¸€è‡´çš„è¦–è¦ºå¸ƒå±€ï¼Œä¸¦åœ¨çµæœå¡ç‰‡é«˜äº®é¡¯ç¤ºç¬¦åˆæ¢ä»¶ã€‚</p>
  <!-- Tabs -->
  <div class="tabs" role="tablist">
    <button class="tab active" data-tab="overview" role="tab" aria-selected="true">æˆæ¬Šæ¦‚è¦½</button>
    <button class="tab" data-tab="picker" role="tab" aria-selected="false">æŒ‘é¸åˆé©æˆæ¬Š</button>
  </div>
  <!-- Overview toolbar (filters & search) -->
  <div id="overview-tools" class="toolbar">
    <span class="pill active" data-filter="all">å…¨éƒ¨</span>
    <span class="pill" data-filter="permissive">å¯¬é¬†å¼</span>
    <span class="pill" data-filter="weak">å¼±äº’æƒ </span>
    <span class="pill" data-filter="strong">å¼·äº’æƒ </span>
    <span class="pill" data-filter="patent">ä¼æ¥­å‹å–„ï¼ˆå«å°ˆåˆ©ï¼‰</span>
    <span class="pill" data-filter="public">å…¬é ˜åŸŸ/è³‡æ–™</span>
    <span class="pill" data-filter="restricted">âš ï¸ ç‰¹åˆ¥æ³¨æ„</span>
    <span class="pill" data-filter="infectious">ğŸ¦ å…·å‚™æ„ŸæŸ“æ€§</span>
    <div class="search">
      <input id="searchBox" placeholder="æœå°‹æˆæ¬Šåç¨±æˆ–é—œéµå­—ï¼ˆå¦‚ï¼šå°ˆåˆ©ã€SaaSã€Copyleftï¼‰" />
      <button class="btn" id="clearAll">æ¸…é™¤ç¯©é¸</button>
    </div>
    <span id="count" class="count"></span>
  </div>
 
  <!-- Overview section -->
  <section id="overview">
    <div class="legend">
      <span class="badge ok">å¯å•†ç”¨</span>
      <span class="badge">éœ€ä¿ç•™ç‰ˆæ¬Š/æˆæ¬Šè²æ˜</span>
      <span class="badge warn">å¯èƒ½è§¸ç™¼é–‹æºç¾©å‹™</span>
      <span class="badge bad">é OSI é–‹æºï¼é™åˆ¶å•†ç”¨</span>
      <span class="badge">å«å°ˆåˆ©æ¢æ¬¾</span>
    </div>
  <h2 class="section-title">æœ€å¸¸è¦‹ï¼ˆä¸»æµã€å»ºè­°å…ˆå¾é€™è£¡æŒ‘ï¼‰</h2>
  <p style="margin-top:6px">
    åƒè€ƒä¾†æºï¼ˆå½±ç‰‡ï¼‰ï¼š
    <a href="https://www.youtube.com/watch?v=ZVKZ9DIFQak" target="_blank" rel="noopener">
      ä»€éº¼æ˜¯é–‹æºï¼ŸGPL å¦‚ä½•ã€Œæ„ŸæŸ“ã€ä½ çš„å°ˆæ¡ˆï¼Ÿã€é–‹æºç°¡å²èˆ‡æˆæ¬Šè©³è§£ã€‘
    </a>
  </p>
    <div class="grid big" id="mainGrid">
      <!-- licence cards will be injected by JS -->
    </div>
    <hr />
    <h2 class="section-title">ç‰¹åˆ¥æ³¨æ„ï¼ˆè¼ƒå°ç‰ˆé¢ï¼Œå­—å°‘ä½†é‡è¦ï¼‰</h2>
    <p class="note">ä»¥ä¸‹å¤šåŠ<strong>ä¸æ˜¯</strong>å‚³çµ±çš„ã€Œé–‹æºï¼ˆOSI æ‰¹å‡†ï¼‰ã€æˆæ¬Šï¼Œæˆ–æ˜¯å…·æœ‰è¼ƒå¼·é™åˆ¶ã€‚æ‹¿ä¾†åšå•†ç”¨æˆ–èˆ‡å°ˆæœ‰ç”¢å“æ··æ­æ™‚ï¼Œè«‹æ ¼å¤–å°å¿ƒã€‚</p>
    <div class="grid small" id="extraGrid"></div>
    <hr />
    <h2 class="section-title">å¿«é€Ÿé¸æ“‡å»ºè­°</h2>
    <div class="grid small" id="quickGrid"></div>
    <div class="note" style="margin-top:16px">
      <b>å¸¸è¦‹è¿·æ€æ›´æ­£ï¼š</b>
      <ul>
        <li>ã€ŒNITã€é€šå¸¸æ˜¯èª¤æ‰“ï¼Œ<b>ä½ å¤šåŠæŒ‡çš„æ˜¯ MIT License</b>ã€‚</li>
        <li>æŠŠç¨‹å¼ç¢¼æ”¾ä¸Š GitHub <b>ä¸ç­‰æ–¼</b>è‡ªå‹•é–‹æºï¼›<b>ä¸€å®šè¦</b>åŠ ä¸Š LICENSE æª”ã€‚</li>
        <li>Creative Commonsï¼ˆCCï¼‰ç³»åˆ—å¤šè¨­è¨ˆçµ¦å…§å®¹/è³‡æ–™ï¼Œ<b>ä¸å»ºè­°ç”¨æ–¼ç¨‹å¼ç¢¼</b>ï¼ˆé™¤ CC0ï¼‰ã€‚</li>
      </ul>
    </div>
  </section>
  <!-- Picker section -->
  <section id="picker" class="picker" aria-hidden="true">
    <h2 class="section-title">æŒ‘é¸åˆé©æˆæ¬Šï¼ˆå¤šé¸æ¢ä»¶ï¼Œå³æ™‚æ¨è–¦ï¼‰</h2>
    <div class="toolbar" style="margin-top:-6px">
      <button class="btn" id="pickerReset">é‡è¨­æ¢ä»¶</button>
    </div>
    <div class="picker-grid" id="conditionGrid"></div>
    <div class="result">
      <h3 class="section-title" style="margin-top:6px">æ¨è–¦çµæœ</h3>
      <div class="grid big" id="resultGrid"></div>
    </div>
  </section>
  <p class="footer">â€» æœ¬é åƒ…ä¾›ä¸€èˆ¬è³‡è¨Šåƒè€ƒï¼Œéæ³•å¾‹æ„è¦‹ã€‚å¯¦éš›æƒ…æ³è«‹è«®è©¢åˆæ ¼æ³•å¾‹é¡§å•ã€‚</p>
</div>
<script>
(function(){
  const $ = (s,root=document)=>root.querySelector(s);
  const $$ = (s,root=document)=>Array.from(root.querySelectorAll(s));
  /* ----------------- åŸºç¤è³‡æ–™ ----------------- */
  const licenses=[
    {id:'mit',name:'MIT License',tag:'æœ€å¸¸è¦‹',type:'permissive',strength:'none',patent:'no',badges:['å¯å•†ç”¨','ä¿ç•™ç‰ˆæ¬Šèˆ‡æˆæ¬Šè²æ˜'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>æ¥µåº¦å¯¬é¬†ï¼šå…è¨±ä¿®æ”¹ã€å†æ•£å¸ƒèˆ‡å•†ç”¨</li><li>åªéœ€ä¿ç•™ç‰ˆæ¬Šèˆ‡æˆæ¬Šè²æ˜</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šéå¸¸å®¹æ˜“æ¡ç”¨ï¼Œé©åˆé–‹ç™¼è€…èˆ‡å…¬å¸ï¼›æ³¨æ„ï¼šä¸æä¾›å°ˆåˆ©æˆæ¬Šï¼Œé‡åˆ°å°ˆåˆ©é¢¨éšªéœ€å¦å¤–è™•ç†ã€‚'
    ],example:`Copyright (c) 2025 Your Name\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\n...`},
    {id:'apache-2.0',name:'Apache License 2.0',tag:'ä¼æ¥­å‹å–„',type:'permissive',strength:'none',patent:'yes',badges:['å¯å•†ç”¨','ä¿ç•™ç‰ˆæ¬Š/NOTICE','å«å°ˆåˆ©æˆæ¬Š&çµ‚æ­¢'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>å¯¬é¬†ä½†åŒ…å«æ˜ç¢ºå°ˆåˆ©æˆæ¬Šèˆ‡çµ‚æ­¢æ¢æ¬¾</li><li>æ•£å¸ƒéœ€ä¿ç•™ LICENSE èˆ‡ NOTICEï¼›ä¿®æ”¹éœ€æ¨™ç¤º</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šå…¬å¸æ¡ç”¨å‹å¥½ï¼ˆå«å°ˆåˆ©ä¿è­·ï¼‰ï¼›æ³¨æ„ï¼šéœ€éµå®ˆ NOTICE/LICENSE ä¿ç•™èˆ‡ä¿®æ”¹æ¨™ç¤ºã€‚'
    ],example:`Licensed under the Apache License, Version 2.0 (the "License");\nYou may not use this file except in compliance with the License...`},
    {id:'gpl-3.0',name:'GNU GPLv3',tag:'å¼·äº’æƒ ',type:'copyleft',strength:'strong',patent:'yes',badges:['å¯å•†ç”¨','æ”¹ä½œå…¬é–‹åŸå§‹ç¢¼','å Tivoizationï¼å«å°ˆåˆ©æ¢æ¬¾'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>å¼·åˆ¶äº’æƒ ï¼ˆCopyleftï¼‰ï¼šè‹¥ç”¢ç”Ÿä¸å¯åˆ†å‰²çš„é€£çµæˆ–æ•£å¸ƒï¼Œéœ€ä»¥ GPL é‡‹å‡ºæ•´é«”</li><li>å«å°ˆåˆ©æ¢æ¬¾èˆ‡å°æŠ— Tivoization æ¢æ¬¾</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šç¢ºä¿è¡ç”Ÿä½œå“ä¹Ÿä¿æŒè‡ªç”±ï¼›æ³¨æ„ï¼šèˆ‡å°ˆæœ‰ç¨‹å¼æ•´åˆæˆ–éœæ…‹é€£çµæ™‚å¯èƒ½è§¸ç™¼ç¾©å‹™ã€‚'
    ],example:`This program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License...`},
    {id:'bsd-3-clause',name:'BSD 3-Clause',tag:'',type:'permissive',strength:'none',patent:'no',badges:['å¯å•†ç”¨','ä¿ç•™ç‰ˆæ¬Š/å…è²¬è²æ˜'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>å¯¬é¬†ï¼šå…è¨±ä¿®æ”¹èˆ‡å•†ç”¨</li><li>éœ€ä¿ç•™ç‰ˆæ¬Šèˆ‡å…è²¬è²æ˜ï¼›ç¦æ­¢ä½¿ç”¨ä½œè€…åç¾©åšèƒŒæ›¸</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šèˆ‡ MIT ç›¸è¿‘ä½†æœ‰èƒŒæ›¸ç¦ç”¨æ¢æ¬¾ï¼›æ³¨æ„ï¼šä»ä¸å«å°ˆåˆ©æˆæ¬Šã€‚'
    ],example:`Redistribution and use in source and binary forms...`},
    {id:'mpl-2.0',name:'Mozilla Public License 2.0',tag:'',type:'copyleft',strength:'weak',patent:'yes',badges:['å¯å•†ç”¨','ä¿®æ”¹æª”éœ€é–‹æº','å°ˆåˆ©æˆæ¬Š'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>å¼±äº’æƒ ï¼šåªè¦æ±‚ä¿®æ”¹éçš„æª”æ¡ˆå…¬é–‹åŸå§‹ç¢¼</li><li>å¯ä»¥èˆ‡å°ˆæœ‰ç¢¼å…±åŒå­˜åœ¨æ–¼åŒä¸€å°ˆæ¡ˆ</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šå° library èˆ‡æ‡‰ç”¨æ··ç”¨å‹å¥½ï¼›æ³¨æ„ï¼šåƒ…ä¿®æ”¹éçš„æª”æ¡ˆéœ€é–‹æºï¼Œæ•´é«”ä¸¦éå®Œå…¨å¼·åˆ¶ã€‚'
    ],example:`This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0...`},
    {id:'lgpl-3.0',name:'GNU LGPLv3',tag:'',type:'copyleft',strength:'weak',patent:'yes',badges:['å¯å•†ç”¨','ä¿®æ”¹åº«éœ€é–‹æº','å…è¨±å‹•æ…‹é€£çµ'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>é‡å°å‡½å¼åº«çš„å¼±äº’æƒ ï¼šå…è¨±èˆ‡å°ˆæœ‰ç¨‹å¼å‹•æ…‹é€£çµè€Œä¸è§¸ç™¼æ•´é«”é–‹æº</li><li>ä¿®æ”¹åº«æœ¬èº«éœ€ä»¥ LGPL é‡‹å‡º</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šé©åˆæä¾›å¯é€£çµçš„ libraryï¼›æ³¨æ„ï¼šéœæ…‹é€£çµæˆ–æ”¹ä½œåº«æœ¬èº«å¯èƒ½æœ‰ç¾©å‹™ã€‚'
    ],example:`This library is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License...`},
    {id:'bsl-1.0',name:'Boost Software License 1.0',tag:'',type:'permissive',strength:'none',patent:'no',badges:['å¯å•†ç”¨','ä¿ç•™æˆæ¬Š/å…è²¬'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>é¡ä¼¼ MIT/BSD çš„éå¸¸å¯¬é¬†æ¢æ¬¾</li><li>å¸¸è¦‹æ–¼ C++ ç”Ÿæ…‹ï¼Œæ¡ç”¨ç°¡å–®æ˜ç¢º</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šå¯¦å‹™ä¸Šæ˜“ä½¿ç”¨ä¸”å°å…¬å¸å‹å¥½ï¼›æ³¨æ„ï¼šè‹¥éœ€å°ˆåˆ©ä¿è­·éœ€é¡å¤–è™•ç†ã€‚'
    ],example:`Boost Software License - Version 1.0 - August 17th, 2003...`},
    {id:'cc0-1.0',name:'å…¬é ˜åŸŸ / CC0-1.0',tag:'',type:'public',strength:'none',patent:'no',badges:['å¯å•†ç”¨','ç„¡éœ€é™„å¸¶æˆæ¬Š'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>æˆæ¬Šè€…æ”¾æ£„æ¬Šåˆ©ï¼Œæ¥è¿‘å…¬é ˜åŸŸ</li><li>å¸¸ç”¨æ–¼è³‡æ–™é›†æˆ–å…§å®¹ï¼Œä¸å»ºè­°ç›´æ¥ç”¨æ–¼ç¨‹å¼ç¢¼ï¼ˆé™¤éæ˜ç¢ºæƒ³æ”¾å…¬é ˜åŸŸï¼‰</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šæœ€å¤§é–‹æ”¾åº¦ï¼›æ³¨æ„ï¼šé©ç”¨æ–¼è³‡æ–™æˆ–ç¯„ä¾‹ç¨‹å¼ç¢¼ï¼Œå•†æ¥­/æ³•å‹™é¢¨éšªéœ€è‡ªè¡Œè©•ä¼°ã€‚'
    ],example:`To the extent possible under law, the author has dedicated this work to the public domain...`},
    // ç‰¹åˆ¥æ³¨æ„
    {id:'agpl-3.0',name:'AGPLv3ï¼ˆç¶²è·¯äº’æƒ ï¼‰',tag:'',type:'restricted',strength:'strong',patent:'yes',badges:['SaaS ä¹Ÿéœ€é‡‹å‡ºåŸå§‹ç¢¼'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>å°‡ GPL çš„æ•£ä½ˆè§¸ç™¼æ¢ä»¶æ“´åŠåˆ°ç¶²è·¯äº’å‹•ï¼ˆSaaSï¼‰</li><li>è‹¥ä½¿ç”¨è€…é€éç¶²è·¯èˆ‡ä¿®æ”¹å¾Œçš„ç¨‹å¼äº’å‹•ï¼Œéœ€æä¾›åŸå§‹ç¢¼</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šé©åˆæƒ³è¦æ±‚é›²ç«¯æœå‹™å›é¥‹ç¤¾ç¾¤çš„å°ˆæ¡ˆï¼›æ³¨æ„ï¼šæœƒå° SaaS å•†æ¥­æ¨¡å¼é€ æˆé‡å¤§å½±éŸ¿ã€‚'
    ],example:`è‹¥ä»¥ AGPL å…ƒä»¶æä¾›ç·šä¸Šæœå‹™ï¼Œé ˆåœ¨æœå‹™é æä¾›åŸå§‹ç¢¼å–å¾—æ–¹å¼...`},
    {id:'sspl',name:'SSPL',tag:'',type:'restricted',strength:'',patent:'',badges:['é OSI é–‹æº'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>è¦æ±‚å…¬é–‹æ•´å€‹æœå‹™å †ç–Šï¼ˆè¶…å‡ºä¸€èˆ¬é–‹æºè¦æ±‚ï¼‰</li><li>å·²è¢« OSI åˆ¤å®šéé–‹æº</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šåå‘æœå‹™å±¤é¢å¼·åˆ¶é€æ˜ï¼›æ³¨æ„ï¼šä¸å»ºè­°ç”¨æ–¼éœ€èˆ‡å•†ç”¨å°ˆæ¡ˆæ··åˆä½¿ç”¨ã€‚'
    ]},
    {id:'busl-1.1',name:'BUSL 1.1',tag:'',type:'restricted',strength:'',patent:'',badges:['ä¾†æºå¯è¦‹ä½†é™ç”¨'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>æºç¢¼å¯è¦‹ä½†é™„å¸¶ä½¿ç”¨é™åˆ¶æˆ–å»¶é²é–‹æºæ¢æ¬¾</li><li>å¸¸è¦‹æ–¼ä¼æ¥­ã€Œä¾†æºå¯è¦‹ä½†å—é™ã€çš„ç­–ç•¥</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šå…¼é¡§å…¬é–‹èˆ‡å•†æ¥­é™åˆ¶ï¼›æ³¨æ„ï¼šä¸ç¬¦åˆ OSI é–‹æºå®šç¾©ï¼Œä½¿ç”¨å‰éœ€è©•ä¼°åˆè¦æ€§ã€‚'
    ]},
    {id:'elastic-2.0',name:'Elastic License 2.0',tag:'',type:'restricted',strength:'',patent:'',badges:['é™åˆ¶å•†ç”¨'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>æºç¢¼å¯è®€ï¼Œä½†å°ç‰¹å®šé›²ç«¯/ç«¶å“ä½¿ç”¨æœ‰é¡å¤–é™åˆ¶</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šä¾›æ‡‰å•†ä¿ç•™éƒ¨åˆ†å•†æ¥­é™åˆ¶ï¼›æ³¨æ„ï¼šå°å•†ç”¨èˆ‡è¡ç”Ÿæœå‹™æ¡ç”¨æœ‰é™åˆ¶ã€‚'
    ]},
    {id:'commons-clause',name:'Commons Clause',tag:'',type:'restricted',strength:'',patent:'',badges:['ç¦æ­¢éŠ·å”®'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>ä¸æ˜¯é–‹æºï¼šåœ¨åŸæˆæ¬Šä¸Šé™„åŠ ç¦æ­¢å•†ç”¨æˆ–éŠ·å”®çš„æ¢æ¬¾</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šå¤–è§€åƒé–‹æºä½†å¯¦å‹™ä¸Šé™åˆ¶åš´é‡ï¼›æ³¨æ„ï¼šå·²ä¸è¢«è¦–ç‚ºé–‹æºã€‚'
    ]},
    {id:'cc-by-nc-nd',name:'CC BY-NC/ND',tag:'',type:'restricted',strength:'',patent:'',badges:['éå•†ç”¨/ç¦æ­¢æ”¹ä½œ'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>ç¦æ­¢å•†ç”¨èˆ‡ç¦æ­¢æ”¹ä½œï¼Œé©ç”¨æ–¼å…§å®¹è€Œéç¨‹å¼ç¢¼</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šé©åˆå‰µä½œå…§å®¹ä¿è­·ï¼›æ³¨æ„ï¼šä¸å»ºè­°ç”¨æ–¼ç¨‹å¼ç¢¼æˆ–å‡½å¼åº«ã€‚'
    ]},
    {id:'no-license',name:'æœªæ¨™æˆæ¬Š',tag:'',type:'restricted',strength:'',patent:'',badges:['æ²’æœ‰æˆæ¬Š'],desc:[
      'æ ¸å¿ƒé‡é»',`<ul><li>æœªæˆæ¬Šå³è¦–ç‚ºä¿ç•™æ‰€æœ‰æ¬Šåˆ©ï¼Œä¸èƒ½è‡ªç”±ä½¿ç”¨æˆ–æ•£å¸ƒ</li></ul>`,
      'ä¸€å¥è©±èªªæ˜','ç‰¹é»ï¼šæœ€ä¸å®‰å…¨çš„æƒ…æ³ï¼›æ³¨æ„ï¼šä½¿ç”¨å‰è«‹è¦æ±‚åŸä½œè€…æ˜ç¢ºæˆæ¬Šæˆ–é¿å…ä½¿ç”¨ã€‚'
    ]}
  ];
  /* ----------------- å…ƒä»¶æ¨¡æ¿ ----------------- */
  function createCard(l){
    const art=document.createElement('article');
    art.className=`card lic type-${l.type}`;
    art.dataset.name=l.id;
    art.dataset.type=l.type;
    art.dataset.patent=l.patent;
    art.dataset.strength=l.strength;
    if(l.tag) art.innerHTML+=`<div class="tag">${l.tag}</div>`;
    art.innerHTML+=`<h3 class="title">${l.name}</h3>`;
    if(l.type!=='restricted') art.innerHTML+=`<p class="aka">é¡å‹ï¼š<b>${mapType(l)}</b></p>`;
    const badges=document.createElement('div');
    badges.className='badges';
    l.badges.forEach(b=>badges.appendChild(badge(b)));
    art.appendChild(badges);
    if(l.desc){
      const kvs=document.createElement('div');kvs.className='kvs';
      for(let i=0;i<l.desc.length;i+=2){
        // ä½¿ç”¨ .kv-value åŒ…è£¹å…§å®¹ï¼Œå…è¨±å…§å« <ul> ç­‰å€å¡Šæ¨™è¨˜
        kvs.innerHTML+=`<div class="kv"><b>${l.desc[i]}</b><div class="kv-value">${l.desc[i+1]}</div></div>`;
      }
      art.appendChild(kvs);
    }
    addExampleBox(art,l.example||'');
    return art;
  }
  function mapType(l){
    if(l.type==='permissive') return 'å¯¬é¬†å¼ï¼ˆPermissiveï¼‰';
    if(l.type==='copyleft'&&l.strength==='weak') return 'å¼±äº’æƒ ';
    if(l.type==='copyleft'&&l.strength==='strong') return 'å¼·äº’æƒ ';
    if(l.type==='public') return 'å…¬é ˜åŸŸ';
    return 'é™åˆ¶/éé–‹æº';
  }
  function badge(t){const s=document.createElement('span');s.className='badge';s.textContent=t;return s;}
  function addExampleBox(art,txt){
    if(!txt) return;
    const box=document.createElement('div');box.className='example-box';
    box.innerHTML=`<div class="example-pill" tabindex="0"><small>ç¯„ä¾‹</small><small>æ¼”ç¤º</small></div><div class="example-icon" aria-hidden="true"></div>`;
    const pop=document.createElement('div');pop.className='example-pop';pop.innerHTML=`<pre><code>${txt}</code></pre>`;
    box.appendChild(pop);art.appendChild(box);
  }
  /* åœ¨å¡ç‰‡ä¸ŠåŠ å…¥ã€Œè§£å¥—æ–¹å¼ã€æŒ‰éˆ•èˆ‡å½ˆçª—ï¼ˆåƒ…å°å¼·äº’æƒ /å…·æ„ŸæŸ“æ€§æˆæ¬Šé¡¯ç¤ºï¼‰ */
  function addWorkaround(art,license){
    if(!license || license.strength!=='strong') return;
    const btn=document.createElement('button');btn.className='workaround-btn';btn.type='button';btn.textContent='è§£å¥—æ–¹å¼';
    const pop=document.createElement('div');pop.className='workaround-pop';
    pop.innerHTML=`<b>è§£å¥—æ–¹å¼ï¼š</b><div style="margin-top:6px">å¯å°‡å…·æ„ŸæŸ“æ€§çš„åŠŸèƒ½æ‹†æˆç¨ç«‹å¾®æœå‹™æˆ– APIï¼Œå°‡è©²æœå‹™å–®ç¨éƒ¨ç½²ä¸¦å…¬é–‹å…¶åŸå§‹ç¢¼èˆ‡æˆæ¬Šï¼Œä¸»å°ˆæ¡ˆé€é API å‘¼å«è©²æœå‹™ä»¥ä½¿ç”¨åŠŸèƒ½ï¼ˆé¿å…ç›´æ¥æ•´åˆæˆ–éœæ…‹é€£çµï¼‰ï¼Œå¯é™ä½ä¸»å°ˆæ¡ˆè¢«æˆæ¬Šã€Œæ„ŸæŸ“ã€çš„é¢¨éšªã€‚</div>`;
    btn.addEventListener('click', (e)=>{
      e.stopPropagation();
      const isVisible = pop.style.display==='block';
      // éš±è—å…¶ä»–åŒå±¤çš„å½ˆçª—
      Array.from(art.querySelectorAll('.workaround-pop')).forEach(p=>p.style.display='none');
      pop.style.display = isVisible ? 'none' : 'block';
    });
    // é»æ“Šå¡ç‰‡å…¶ä»–è™•æ™‚é—œé–‰
    art.addEventListener('click', ()=>{ pop.style.display='none'; });
    art.appendChild(btn);art.appendChild(pop);
  }
  /* ----------------- å»ºç«‹åˆå§‹ç•«é¢ ----------------- */
  const mainGrid=$('#mainGrid');
  const extraGrid=$('#extraGrid');
  licenses.forEach(l=>{
    const card=(l.type==='restricted'?extraGrid:mainGrid).appendChild(createCard(l));
    // ç‚ºå…·æ„ŸæŸ“æ€§çš„æˆæ¬Šåœ¨å¡ç‰‡ä¸ŠåŠ å…¥è§£å¥—æŒ‰éˆ•
    addWorkaround(card,l);
  });
  // Quick tips
  $('#quickGrid').innerHTML=`<div class="card"><b>æƒ³è¦æœ€å¤§æ¡ç”¨èˆ‡æœ€å°‘ç¾©å‹™ï¼Ÿ</b><br>MIT æˆ– Apache-2.0ï¼ˆè‹¥åœ¨æ„å°ˆåˆ©é¢¨éšªï¼Œå„ªå…ˆ Apache-2.0ï¼‰ã€‚</div><div class="card"><b>å¸Œæœ›æ”¹ä½œä¹Ÿå¿…é ˆå›é¥‹é–‹æºï¼Ÿ</b><br>GPLv3ï¼ˆæ•´é«”å¼·äº’æƒ ï¼‰ï¼Œæˆ– MPL-2.0 / LGPLv3ï¼ˆè¼ƒå¼±äº’æƒ ï¼‰ã€‚</div><div class="card"><b>åšé›²ç«¯/SaaS åˆæƒ³è¦æ±‚å°æ–¹é–‹æºï¼Ÿ</b><br>AGPLv3ï¼Œä½†è¦ç†è§£å…¶å•†æ¥­å½±éŸ¿èˆ‡ç¤¾ç¾¤æ¥å—åº¦ã€‚</div>`;
  /* ----------------- æ¦‚è¦½ï¼šç¯©é¸èˆ‡æœå°‹ ----------------- */
  const pills=$$('.pill');
  const cards=$$('.lic');
  const searchBox=$('#searchBox');
  const count=$('#count');
  const clearAll=$('#clearAll');
  let activeFilter='all';
  function applyFilters(){
    const kw=(searchBox.value||'').trim().toLowerCase();let visible=0;
    cards.forEach(c=>{
      let ok=true;
      const {type,strength,patent}=c.dataset;
      switch(activeFilter){
        case 'permissive':ok=type==='permissive';break;
        case 'weak':ok=strength==='weak';break;
        case 'strong':ok=strength==='strong';break;
        case 'infectious':ok=strength==='strong';break;
        case 'patent':ok=patent==='yes';break;
        case 'public':ok=type==='public';break;
        case 'restricted':ok=type==='restricted';break;
        default:ok=true;
      }
      if(ok&&kw){ok=c.innerText.toLowerCase().includes(kw);}
      c.style.display=ok?'block':'none';
      if(ok) visible++;
    });
    count.textContent=`é¡¯ç¤º ${visible} / ${cards.length} é …`;
  }
  pills.forEach(p=>p.addEventListener('click',()=>{pills.forEach(x=>x.classList.remove('active'));p.classList.add('active');activeFilter=p.dataset.filter;applyFilters();}));
  searchBox.addEventListener('input',applyFilters);
  clearAll.addEventListener('click',()=>{searchBox.value='';activeFilter='all';pills.forEach(x=>x.classList.toggle('active',x.dataset.filter==='all'));applyFilters();});
  applyFilters();
  /* ----------------- Tabs ----------------- */
  const tabs=$$('.tab');const overviewSec=$('#overview');const pickerSec=$('#picker');const overviewTools=$('#overview-tools');
  tabs.forEach(t=>t.addEventListener('click',()=>{tabs.forEach(x=>x.classList.remove('active'));t.classList.add('active');const isPicker=t.dataset.tab==='picker';overviewSec.style.display=isPicker?'none':'block';overviewTools.style.display=isPicker?'none':'flex';pickerSec.classList.toggle('active',isPicker);pickerSec.setAttribute('aria-hidden',(!isPicker).toString());}));
  // è§£å¥—æ–¹å¼æŒ‰éˆ•åˆ‡æ›
  const workaroundBtn=$('#workaroundBtn');
  const workaroundNote=$('#workaroundNote');
  if(workaroundBtn && workaroundNote){
    workaroundBtn.addEventListener('click',()=>{
      workaroundNote.style.display = workaroundNote.style.display === 'none' ? 'block' : 'none';
      // æ»¾å‹•åˆ°è©²å€å¡Šä»¥æç¤ºä½¿ç”¨è€…
      if(workaroundNote.style.display === 'block') workaroundNote.scrollIntoView({behavior:'smooth',block:'center'});
    });
  }
  /* ----------------- Picker æ¢ä»¶ ----------------- */
  const needList=[
    {key:'commercial',label:'å¯å•†ç”¨'},
    {key:'low-obligations',label:'æœ€ä½ç¾©å‹™'},
    {key:'patent',label:'å«å°ˆåˆ©æˆæ¬Š'},
    {key:'easy-mix',label:'æ˜“èˆ‡å°ˆæœ‰æ··åˆ'},
    {key:'infectious',label:'ğŸ¦ å…·å‚™æ„ŸæŸ“æ€§'},
    {key:'weak-copyleft',label:'å¼±äº’æƒ '},
    {key:'strong-copyleft',label:'å¼·äº’æƒ '},
    {key:'saas-copyleft',label:'SaaS äº’æƒ '},
    {key:'public-domain',label:'å…¬é ˜åŸŸ'},
    {key:'avoid-restricted',label:'é¿å…é™åˆ¶æˆæ¬Š'}
  ];
  const conditionGrid=$('#conditionGrid');
  needList.forEach(n=>conditionGrid.innerHTML+=`<label class="choice"><input type="checkbox" data-key="${n.key}"> <div><b>${n.label}</b></div></label>`);
  const checks=$$('input[data-key]');
  const resultGrid=$('#resultGrid');
  const pickerReset=$('#pickerReset');
  function needFuncs(){
    return {
      commercial:l=>l.type!=='restricted',
      'low-obligations':l=>l.type==='permissive'&&l.strength==='none',
      patent:l=>l.patent==='yes',
      'easy-mix':l=>(l.type==='permissive')||(l.strength==='weak'),
      'infectious':l=>l.strength==='strong',
      'weak-copyleft':l=>l.strength==='weak',
      'strong-copyleft':l=>l.strength==='strong',
      'saas-copyleft':l=>l.id==='agpl-3.0',
      'public-domain':l=>l.id==='cc0-1.0',
      'avoid-restricted':l=>l.type!=='restricted'
    };
  }
  const funcs=needFuncs();
  function renderResults(){
    const activeKeys=checks.filter(ch=>ch.checked).map(ch=>ch.dataset.key);
    resultGrid.innerHTML='';
    const list=licenses.filter(l=>{
      // é¿å…é™åˆ¶æˆæ¬Šç¨ç«‹è™•ç†
      if(activeKeys.includes('avoid-restricted')&&l.type==='restricted') return false;
      return true;
    }).map(l=>({l,matches:activeKeys.filter(k=>funcs[k]&&funcs[k](l))})).filter(o=>activeKeys.length?o.matches.length===activeKeys.filter(k=>k!=='avoid-restricted').length:true);
    if(!list.length){resultGrid.innerHTML='<span class="muted">å°šç„¡çµæœï¼Œå˜—è©¦æ”¾å¯¬æˆ–èª¿æ•´æ¢ä»¶ã€‚</span>';return;}
    list.forEach(({l,matches})=>{
      const card=createCard(l);
      // highlight matched
      matches.forEach(k=>{
        const pill=document.createElement('span');pill.className='badge highlight';pill.textContent=needList.find(n=>n.key===k).label;card.querySelector('.badges').appendChild(pill);
      });
      resultGrid.appendChild(card);
    });
  }
  checks.forEach(ch=>ch.addEventListener('change',renderResults));
  pickerReset.addEventListener('click',()=>{checks.forEach(ch=>ch.checked=false);renderResults();});
  renderResults();
})();
</script>
</body>
</html>
